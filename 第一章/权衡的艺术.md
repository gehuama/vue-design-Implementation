# 权衡的艺术
### 框架设计里到处都体现了权衡的艺术
## 1.1 命令式和声明式
#### 命令式框架：“关注过程”  eg:code1.js
#### 声明式框架：“关注结果”  eg:code2.html 13行代码
#### vue.js的内部实现一定是命令式的，而暴露给用户的却更加声明。 vue.js 帮我们封装了过程
## 1.2 性能与可维护性的权衡
### 声明式代码的性能不优于命令式代码的性能
#### 修改div中内容为 hello vue3
```
命令式修改:
div.textContent = 'hello vue3' // 直接修改

声明式修改(封装的过程中实现找出差异并只更新变化的地方):
结果如下：
<!--之前-->
<div id="app" @click="()=>alert('ok')">hello Vue</div>
<!--之后-->
<div id="app" @click="()=>alert('ok')">hello Vue3</div>

命令式修改和声明式修改（vue框架修改）最终完成的更新代码：
div.textContent = 'hello vue3' // 直接修改

```
##### 定义：直接修改性能消耗为：A  
##### 定义：找出差异的性能消耗为：B
***
##### 命令式代码的更新性能消耗 = A
##### 声明式代码的更新性能消耗 = B + A

### 总结 1.命令式在理论上可以做到极致化（性能），但是用户要承担巨大的心智负担
### 总结 2.而声明式能够有效的减轻用户的心智负担，但是性能上有一定的牺牲
### 总结 3.框架设计者：在保持可维护性的同时让性能损失最小化

## 1.3 虚拟DOM的性能到底如何
### 声明式代码的更新性能消耗 = 找出差异的性能消耗 + 直接修改的性能消耗

### 虚拟DOM的意义：使找出差异的性能消耗最小化
### 注意：采用虚拟DOM的更新技术的性能理论上不可能比原生JavaScript操作DOM更高